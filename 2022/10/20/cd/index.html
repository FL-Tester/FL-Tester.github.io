<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Other," />










<meta name="description" content="无线单片机课程设计要求(1)至少采用以下传感器其中1种: a.超声波、b.加速度、c.压力。(2)点对点传输，采用LCD或数码管显示传感数据，或者通过串口传输到PC端，由串口调试助手完成。定时采样并刷新显示。(3)设计报告中要清楚描述所用传感器的工作原理以及软硬件设计的具体方案。必须设计清晰、合理的程序流程图。解释关键代码段。(4)全部程序代码作为附录，并要有必要的注释。(5)优良等级的要求：实现">
<meta property="og:type" content="article">
<meta property="og:title" content="课设">
<meta property="og:url" content="https://blog-fengle.com/2022/10/20/cd/index.html">
<meta property="og:site_name" content="FengLE">
<meta property="og:description" content="无线单片机课程设计要求(1)至少采用以下传感器其中1种: a.超声波、b.加速度、c.压力。(2)点对点传输，采用LCD或数码管显示传感数据，或者通过串口传输到PC端，由串口调试助手完成。定时采样并刷新显示。(3)设计报告中要清楚描述所用传感器的工作原理以及软硬件设计的具体方案。必须设计清晰、合理的程序流程图。解释关键代码段。(4)全部程序代码作为附录，并要有必要的注释。(5)优良等级的要求：实现">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://blog-fengle.com/medias/cd/zigbeeresult.jpg">
<meta property="og:image" content="https://blog-fengle.com/project/gcwj.jpg">
<meta property="og:image" content="https://blog-fengle.com/project/lcd1.jpg">
<meta property="og:image" content="https://blog-fengle.com/project/kdxf1.jpg">
<meta property="og:image" content="https://blog-fengle.com/project/kdxf2.jpg">
<meta property="og:image" content="https://blog-fengle.com/project/result1.jpg">
<meta property="og:image" content="https://blog-fengle.com/project/result2.jpg">
<meta property="article:published_time" content="2022-10-20T08:33:53.599Z">
<meta property="article:modified_time" content="2022-10-30T13:36:36.575Z">
<meta property="article:author" content="Feng LE">
<meta property="article:tag" content="Other">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blog-fengle.com/medias/cd/zigbeeresult.jpg">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://blog-fengle.com/2022/10/20/cd/"/>





  <title>课设 | FengLE</title>
  








<meta name="generator" content="Hexo 5.4.1">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="stylesheet" href="/css/prism-xonokai.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">FengLE</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/%20" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/%20" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog-fengle.com/2022/10/20/cd/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="FengLE">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">课设</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-10-20T16:33:53+08:00">
                2022-10-20
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Other-Project/" itemprop="url" rel="index">
                    <span itemprop="name">Other-Project</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="无线单片机课程设计"><a href="#无线单片机课程设计" class="headerlink" title="无线单片机课程设计"></a>无线单片机课程设计</h2><h3 id="要求"><a href="#要求" class="headerlink" title="要求"></a>要求</h3><p>(1)至少采用以下传感器其中1种: a.超声波、b.加速度、c.压力。<br>(2)点对点传输，采用LCD或数码管显示传感数据，或者通过串口传输到PC端，由串口调试助手完成。定时采样并刷新显示。<br>(3)设计报告中要清楚描述所用传感器的工作原理以及软硬件设计的具体方案。必须设计清晰、合理的程序流程图。解释关键代码段。<br>(4)全部程序代码作为附录，并要有必要的注释。<br>(5)优良等级的要求：实现多点的无线网络传输，要有自定义数据帧格式(含加密和纠错)。</p>
<h3 id="选题"><a href="#选题" class="headerlink" title="选题"></a>选题</h3><p>多点动作捕捉 （加速度传感器）</p>
<h3 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h3><p>此处参考了大佬的代码</p>
<h4 id="mpu6050适配cc2530-c51"><a href="#mpu6050适配cc2530-c51" class="headerlink" title="mpu6050适配cc2530(c51)"></a>mpu6050适配cc2530(c51)</h4><p>mpu6050 头文件</p>
<pre class="line-numbers language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">ifndef</span> _MPU6050_H_</span>
<span class="token macro property">#<span class="token directive keyword">define</span> _MPU6050_H_</span>


<span class="token macro property">#<span class="token directive keyword">define</span> SCL P0_6      </span><span class="token comment" spellcheck="true">//IIC时钟引脚定义</span>
<span class="token macro property">#<span class="token directive keyword">define</span> SDA P0_7      </span><span class="token comment" spellcheck="true">//IIC数据引脚定义</span>

<span class="token macro property">#<span class="token directive keyword">define</span> SDA_OUT()   P0DIR |= 0x80</span>
<span class="token macro property">#<span class="token directive keyword">define</span> SDA_IN()    P0DIR &amp;= ~0x80</span>
<span class="token macro property">#<span class="token directive keyword">define</span> SCL_OUT()   P0DIR |= 0x40</span>
<span class="token comment" spellcheck="true">//****************************************</span>
<span class="token comment" spellcheck="true">// 定义MPU6050内部地址</span>
<span class="token comment" spellcheck="true">//****************************************</span>
<span class="token macro property">#<span class="token directive keyword">define</span>    SMPLRT_DIV        0x19    </span><span class="token comment" spellcheck="true">//陀螺仪采样率，典型值：0x07(125Hz)</span>
<span class="token macro property">#<span class="token directive keyword">define</span>    CONFIG            0x1A    </span><span class="token comment" spellcheck="true">//低通滤波频率，典型值：0x06(5Hz)</span>
<span class="token macro property">#<span class="token directive keyword">define</span>    GYRO_CONFIG        0x1B    </span><span class="token comment" spellcheck="true">//陀螺仪自检及测量范围，典型值：0x18(不自检，2000deg/s)</span>
<span class="token macro property">#<span class="token directive keyword">define</span>    ACCEL_CONFIG    0x1C    </span><span class="token comment" spellcheck="true">//加速计自检、测量范围及高通滤波频率，典型值：0x01(不自检，2G，5Hz)</span>
<span class="token macro property">#<span class="token directive keyword">define</span>    ACCEL_XOUT_H    0x3B</span>
<span class="token macro property">#<span class="token directive keyword">define</span>    ACCEL_XOUT_L    0x3C</span>
<span class="token macro property">#<span class="token directive keyword">define</span>    ACCEL_YOUT_H    0x3D</span>
<span class="token macro property">#<span class="token directive keyword">define</span>    ACCEL_YOUT_L    0x3E</span>
<span class="token macro property">#<span class="token directive keyword">define</span>    ACCEL_ZOUT_H    0x3F</span>
<span class="token macro property">#<span class="token directive keyword">define</span>    ACCEL_ZOUT_L    0x40</span>
<span class="token macro property">#<span class="token directive keyword">define</span>    TEMP_OUT_H        0x41</span>
<span class="token macro property">#<span class="token directive keyword">define</span>    TEMP_OUT_L        0x42</span>
<span class="token macro property">#<span class="token directive keyword">define</span>    GYRO_XOUT_H        0x43</span>
<span class="token macro property">#<span class="token directive keyword">define</span>    GYRO_XOUT_L        0x44    </span>
<span class="token macro property">#<span class="token directive keyword">define</span>    GYRO_YOUT_H        0x45</span>
<span class="token macro property">#<span class="token directive keyword">define</span>    GYRO_YOUT_L        0x46</span>
<span class="token macro property">#<span class="token directive keyword">define</span>    GYRO_ZOUT_H        0x47</span>
<span class="token macro property">#<span class="token directive keyword">define</span>    GYRO_ZOUT_L        0x48</span>
<span class="token macro property">#<span class="token directive keyword">define</span>    PWR_MGMT_1        0x6B    </span><span class="token comment" spellcheck="true">//电源管理，典型值：0x00(正常启用)</span>
<span class="token macro property">#<span class="token directive keyword">define</span>    WHO_AM_I            0x75    </span><span class="token comment" spellcheck="true">//IIC地址寄存器(默认数值0x68，只读)</span>
<span class="token macro property">#<span class="token directive keyword">define</span>    SlaveAddress    0xD0    </span><span class="token comment" spellcheck="true">//IIC写入时的地址字节数据，+1为读取</span>
<span class="token keyword">extern</span> <span class="token keyword">int</span> accX<span class="token punctuation">,</span>accY<span class="token punctuation">,</span>accZ<span class="token punctuation">,</span>graX<span class="token punctuation">,</span>graY<span class="token punctuation">,</span>graZ<span class="token punctuation">;</span>
<span class="token keyword">extern</span> <span class="token keyword">int</span> a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">,</span>d<span class="token punctuation">,</span>e<span class="token punctuation">,</span>f<span class="token punctuation">;</span>

<span class="token keyword">extern</span> <span class="token keyword">void</span> <span class="token function">Init_MPU6050</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">extern</span> <span class="token keyword">void</span> <span class="token function">Multiple_read_MPU6050</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">extern</span> <span class="token keyword">unsigned</span> <span class="token keyword">char</span> <span class="token function">Single_Read_MPU6050</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span> REG_Address<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>源文件</p>
<pre class="line-numbers language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"ioCC2530.h"</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"MPU6050.h"</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"OnBoard.h"</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"hal_types.h"</span></span>

<span class="token macro property">#<span class="token directive keyword">define</span> uint  unsigned int</span>
<span class="token macro property">#<span class="token directive keyword">define</span> uchar unsigned char</span>

<span class="token keyword">int</span> accX<span class="token punctuation">,</span>accY<span class="token punctuation">,</span>accZ<span class="token punctuation">,</span>graX<span class="token punctuation">,</span>graY<span class="token punctuation">,</span>graZ<span class="token punctuation">;</span>

<span class="token operator">/</span><span class="token comment" spellcheck="true">/****************************************
//函数声明
//****************************************
void WriteSDA_0(void);
void WriteSDA_1(void);
void WriteSCL_0(void);
void WriteSCL_1(void);
void ReadSDA(void);
void Init_IO(void);
void MPU6050_Start(void);
void MPU6050_Stop(void);
void MPU6050_SendACK(uchar ack);
uchar MPU6050_RecvACK(void);
void MPU6050_SendByte(uchar data);
uchar MPU6050_RecvByte(void);
void Single_Write_MPU6050(uchar REG_Address,uchar REG_data);
uchar Single_Read_MPU6050(uchar REG_Address);
void InitMPU6050(void);
void ALLInit(void);
void Multiple_read_MPU6050(void);
void delay_us(unsigned int u);

void ALLInit(void)
{
   Init_IO();
   InitMPU6050();
}

/****************us延时函数 32M晶振 单周期MCU********************/</span>
<span class="token keyword">void</span> <span class="token function">delay_us</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span> u<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   u<span class="token operator">=</span><span class="token number">4</span><span class="token operator">*</span>u<span class="token punctuation">;</span>
   <span class="token function">MicroWait</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/*****************************MPU6050*******************************/</span>
<span class="token keyword">void</span> <span class="token function">WriteSDA_0</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
    P0DIR<span class="token operator">|</span><span class="token operator">=</span><span class="token number">0x40</span><span class="token punctuation">;</span>
    SDA<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">WriteSDA_1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
    P0DIR<span class="token operator">|</span><span class="token operator">=</span><span class="token number">0x40</span><span class="token punctuation">;</span>
    SDA<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
    
<span class="token keyword">void</span> <span class="token function">WriteSCL_0</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    
<span class="token punctuation">{</span>
    P0DIR<span class="token operator">|</span><span class="token operator">=</span><span class="token number">0x80</span><span class="token punctuation">;</span>
    SCL<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">WriteSCL_1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    
<span class="token punctuation">{</span>
    P0DIR<span class="token operator">|</span><span class="token operator">=</span><span class="token number">0x80</span><span class="token punctuation">;</span>
    SCL<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">ReadSDA</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//sda输入,=0</span>
<span class="token punctuation">{</span>
    P0DIR<span class="token operator">&amp;</span><span class="token operator">=</span><span class="token number">0xBF</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">Init_IO</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  P0DIR<span class="token operator">|</span><span class="token operator">=</span><span class="token number">0xc0</span><span class="token punctuation">;</span>
  P0SEL<span class="token operator">&amp;</span><span class="token operator">=</span><span class="token number">0x3f</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment" spellcheck="true">/**************************************
起始信号
**************************************/</span>
<span class="token keyword">void</span> <span class="token function">MPU6050_Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
<span class="token punctuation">{</span>
    <span class="token function">WriteSDA_1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">WriteSCL_1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">delay_us</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">WriteSDA_0</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">delay_us</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">WriteSCL_0</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">delay_us</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/**************************************
停止信号
**************************************/</span>
<span class="token keyword">void</span> <span class="token function">MPU6050_Stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
<span class="token punctuation">{</span>    
   <span class="token function">WriteSDA_0</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">WriteSCL_1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">delay_us</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">WriteSDA_1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//I2C发送应答信号</span>
<span class="token comment" spellcheck="true">//入口参数:ack (0:ACK 1:NAK)</span>
<span class="token keyword">void</span> <span class="token function">MPU6050_SendACK</span><span class="token punctuation">(</span>uchar ack<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    
    SDA<span class="token operator">=</span>ack<span class="token punctuation">;</span>                     <span class="token comment" spellcheck="true">//写应答信号</span>
    <span class="token function">WriteSCL_1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                   <span class="token comment" spellcheck="true">//拉高时钟线</span>
    <span class="token function">delay_us</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//Delay5us();    //延时</span>
    <span class="token function">WriteSCL_0</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                   <span class="token comment" spellcheck="true">//拉低时钟线</span>
    <span class="token function">delay_us</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//Delay5us();    //延时</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/**************************************
发送应答信号
**************************************/</span>
uchar <span class="token function">MPU6050_RecvACK</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token function">ReadSDA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">WriteSCL_1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                       <span class="token comment" spellcheck="true">//拉高时钟线</span>
    <span class="token function">delay_us</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//Delay5us();    //延时</span>
    CY<span class="token operator">=</span>SDA<span class="token punctuation">;</span>                      <span class="token comment" spellcheck="true">//读应答信号</span>
    <span class="token function">WriteSCL_0</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                       <span class="token comment" spellcheck="true">//拉低时钟线</span>
    <span class="token function">delay_us</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//Delay5us();    //延时</span>
    P0DIR<span class="token operator">|</span><span class="token operator">=</span><span class="token number">0x00</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> CY<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/**************************************
向IIC总线发送一个字节数据
**************************************/</span>
<span class="token keyword">void</span> <span class="token function">MPU6050_SendByte</span><span class="token punctuation">(</span>uchar data<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    uchar i<span class="token punctuation">;</span>
    <span class="token function">SDA_OUT</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">8</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>         <span class="token comment" spellcheck="true">//8位计数器</span>
    <span class="token punctuation">{</span>       
        <span class="token keyword">if</span><span class="token punctuation">(</span>data<span class="token operator">&amp;</span><span class="token number">0x80</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span><span class="token function">WriteSDA_1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
        <span class="token keyword">else</span> 
        <span class="token punctuation">{</span><span class="token function">WriteSDA_0</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
        
        data<span class="token operator">&lt;&lt;=</span><span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token function">WriteSCL_1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">//拉高时钟线</span>
        <span class="token function">delay_us</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment" spellcheck="true">//延时</span>
        <span class="token function">WriteSCL_0</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">//拉低时钟线</span>
        <span class="token function">delay_us</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment" spellcheck="true">//延时</span>
    <span class="token punctuation">}</span>
    <span class="token function">MPU6050_RecvACK</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/**************************************
从IIC总线接收一个字节数据
**************************************/</span>
uchar <span class="token function">MPU6050_RecvByte</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  
    uchar i<span class="token punctuation">;</span>
    uchar dat <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token function">WriteSDA_1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                  <span class="token comment" spellcheck="true">//使能内部上拉,准备读取数据,</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">8</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>         <span class="token comment" spellcheck="true">//8位计数器</span>
    <span class="token punctuation">{</span>
        dat <span class="token operator">&lt;&lt;=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        SCL <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>                <span class="token comment" spellcheck="true">//拉高时钟线</span>
        <span class="token function">delay_us</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token comment" spellcheck="true">//延时</span>
        dat <span class="token operator">|</span><span class="token operator">=</span> SDA<span class="token punctuation">;</span>             <span class="token comment" spellcheck="true">//读数据               </span>
        SCL <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>                <span class="token comment" spellcheck="true">//拉低时钟线</span>
         <span class="token function">delay_us</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token comment" spellcheck="true">//延时</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> dat<span class="token punctuation">;</span>

<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//******单字节写入*******************************************</span>
<span class="token keyword">void</span> <span class="token function">Single_Write_MPU6050</span><span class="token punctuation">(</span>uchar REG_Address<span class="token punctuation">,</span>uchar REG_data<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token function">MPU6050_Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                  <span class="token comment" spellcheck="true">//起始信号</span>
    <span class="token function">MPU6050_SendByte</span><span class="token punctuation">(</span>SlaveAddress<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">//发送设备地址+写信号</span>
    <span class="token function">MPU6050_SendByte</span><span class="token punctuation">(</span>REG_Address<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//内部寄存器地址，</span>
    <span class="token function">MPU6050_SendByte</span><span class="token punctuation">(</span>REG_data<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">//内部寄存器数据，</span>
    <span class="token function">MPU6050_Stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                   <span class="token comment" spellcheck="true">//发送停止信号</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//********单字节读取*****************************************</span>
uchar <span class="token function">Single_Read_MPU6050</span><span class="token punctuation">(</span>uchar REG_Address<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    uchar REG_data<span class="token punctuation">;</span>
    <span class="token function">MPU6050_Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                   <span class="token comment" spellcheck="true">//起始信号</span>
    <span class="token function">MPU6050_SendByte</span><span class="token punctuation">(</span>SlaveAddress<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//发送设备地址+写信号</span>
    <span class="token function">MPU6050_SendByte</span><span class="token punctuation">(</span>REG_Address<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//发送存储单元地址，从0开始    </span>
    <span class="token function">MPU6050_Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                   <span class="token comment" spellcheck="true">//起始信号</span>
    <span class="token function">MPU6050_SendByte</span><span class="token punctuation">(</span>SlaveAddress<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//发送设备地址+读信号</span>
    REG_data<span class="token operator">=</span><span class="token function">MPU6050_RecvByte</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">//读出寄存器数据</span>
    <span class="token function">MPU6050_SendACK</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment" spellcheck="true">//接收应答信号</span>
    <span class="token function">MPU6050_Stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment" spellcheck="true">//停止信号</span>
    <span class="token keyword">return</span> REG_data<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//*****************************************************************</span>

<span class="token comment" spellcheck="true">//初始化MPU6050，根据需要请参考pdf进行修改************************</span>
<span class="token keyword">void</span> <span class="token function">InitMPU6050</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token function">Single_Write_MPU6050</span><span class="token punctuation">(</span>PWR_MGMT_1<span class="token punctuation">,</span><span class="token number">0x00</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//解除休眠状态</span>
    <span class="token function">Single_Write_MPU6050</span><span class="token punctuation">(</span>SMPLRT_DIV<span class="token punctuation">,</span><span class="token number">0x07</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">Single_Write_MPU6050</span><span class="token punctuation">(</span>CONFIG<span class="token punctuation">,</span><span class="token number">0x06</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">Single_Write_MPU6050</span><span class="token punctuation">(</span>GYRO_CONFIG<span class="token punctuation">,</span><span class="token number">0x18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">Single_Write_MPU6050</span><span class="token punctuation">(</span>ACCEL_CONFIG<span class="token punctuation">,</span><span class="token number">0x01</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">//*********************************************************</span>
<span class="token comment" spellcheck="true">//</span>
<span class="token comment" spellcheck="true">//连续读出MPU6050内部数据</span>
<span class="token comment" spellcheck="true">//</span>
<span class="token comment" spellcheck="true">//*********************************************************</span>
<span class="token keyword">void</span> <span class="token function">Multiple_read_MPU6050</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>   
  <span class="token keyword">char</span> BUF<span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//接收数据缓存区  </span>
  BUF<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">Single_Read_MPU6050</span><span class="token punctuation">(</span>ACCEL_XOUT_H<span class="token punctuation">)</span><span class="token punctuation">;</span>
  BUF<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">Single_Read_MPU6050</span><span class="token punctuation">(</span>ACCEL_XOUT_L<span class="token punctuation">)</span><span class="token punctuation">;</span>
  BUF<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">Single_Read_MPU6050</span><span class="token punctuation">(</span>ACCEL_YOUT_H<span class="token punctuation">)</span><span class="token punctuation">;</span>
  BUF<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">Single_Read_MPU6050</span><span class="token punctuation">(</span>ACCEL_YOUT_L<span class="token punctuation">)</span><span class="token punctuation">;</span>
  BUF<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">Single_Read_MPU6050</span><span class="token punctuation">(</span>ACCEL_ZOUT_H<span class="token punctuation">)</span><span class="token punctuation">;</span>
  BUF<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">Single_Read_MPU6050</span><span class="token punctuation">(</span>ACCEL_ZOUT_L<span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  BUF<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">Single_Read_MPU6050</span><span class="token punctuation">(</span>GYRO_XOUT_H<span class="token punctuation">)</span><span class="token punctuation">;</span>
  BUF<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">Single_Read_MPU6050</span><span class="token punctuation">(</span>GYRO_XOUT_L<span class="token punctuation">)</span><span class="token punctuation">;</span>
  BUF<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">Single_Read_MPU6050</span><span class="token punctuation">(</span>GYRO_YOUT_H<span class="token punctuation">)</span><span class="token punctuation">;</span>
  BUF<span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">Single_Read_MPU6050</span><span class="token punctuation">(</span>GYRO_YOUT_L<span class="token punctuation">)</span><span class="token punctuation">;</span>
  BUF<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">Single_Read_MPU6050</span><span class="token punctuation">(</span>GYRO_ZOUT_H<span class="token punctuation">)</span><span class="token punctuation">;</span>
  BUF<span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">Single_Read_MPU6050</span><span class="token punctuation">(</span>GYRO_ZOUT_L<span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  accX<span class="token operator">=</span><span class="token punctuation">(</span>BUF<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">&lt;&lt;</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token operator">|</span>BUF<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
  accY<span class="token operator">=</span><span class="token punctuation">(</span>BUF<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">&lt;&lt;</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token operator">|</span>BUF<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
  accZ<span class="token operator">=</span><span class="token punctuation">(</span>BUF<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token operator">&lt;&lt;</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token operator">|</span>BUF<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
  graX<span class="token operator">=</span><span class="token punctuation">(</span>BUF<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token operator">&lt;&lt;</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token operator">|</span>BUF<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  graY<span class="token operator">=</span><span class="token punctuation">(</span>BUF<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token operator">&lt;&lt;</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token operator">|</span>BUF<span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  graZ<span class="token operator">=</span><span class="token punctuation">(</span>BUF<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token operator">&lt;&lt;</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token operator">|</span>BUF<span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="实现多点的无线网络传输"><a href="#实现多点的无线网络传输" class="headerlink" title="实现多点的无线网络传输"></a>实现多点的无线网络传输</h4><p>采用点播 但是默认是一个终端节点<br>需要增了一个终端节点或者多个</p>
<h5 id="第一步"><a href="#第一步" class="headerlink" title="第一步"></a>第一步</h5><p>在头文件SampleApp.h中 添加一个点播id</p>
<pre class="line-numbers language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">define</span> SAMPLEAPP_FLASH_CLUSTERID     2</span>
<span class="token macro property">#<span class="token directive keyword">define</span> SAMPLEAPP_POINT_TO_POINT_CLUSTERID 3</span>
<span class="token macro property">#<span class="token directive keyword">define</span> SAMPLEAPP_POINT_TO_POINT_CLUSTERID_2 4   </span><span class="token comment" spellcheck="true">//需要添加的</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h5 id="第二步"><a href="#第二步" class="headerlink" title="第二步"></a>第二步</h5><p>在就是接收处理函数 SampleApp_MessageMSGCB()中添加点播id相关的处理函数<br>如果协调器和终端节点烧的不同一份代码 这个函数在协调器文件中</p>
<pre class="line-numbers language-c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">SampleApp_MessageMSGCB</span><span class="token punctuation">(</span> afIncomingMSGPacket_t <span class="token operator">*</span>pkt <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  uint16 flashTime<span class="token punctuation">;</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span> pkt<span class="token operator">-></span>clusterId <span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
    <span class="token keyword">case</span> SAMPLEAPP_PERIODIC_CLUSTERID<span class="token punctuation">:</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>                                           
    <span class="token keyword">case</span> SAMPLEAPP_POINT_TO_POINT_CLUSTERID<span class="token punctuation">:</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>pkt<span class="token operator">-></span>cmd<span class="token punctuation">.</span>Data<span class="token punctuation">[</span><span class="token number">36</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token string">'X'</span><span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
        <span class="token function">HalUARTWrite</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"ED1:"</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">HalUARTWrite</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"  "</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">HalUARTWrite</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>pkt<span class="token operator">-></span>cmd<span class="token punctuation">.</span>Data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">HalUARTWrite</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"  "</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">HalUARTWrite</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>pkt<span class="token operator">-></span>cmd<span class="token punctuation">.</span>Data<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">HalUARTWrite</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"  "</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">HalUARTWrite</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>pkt<span class="token operator">-></span>cmd<span class="token punctuation">.</span>Data<span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">HalUARTWrite</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"  "</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">HalUARTWrite</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>pkt<span class="token operator">-></span>cmd<span class="token punctuation">.</span>Data<span class="token punctuation">[</span><span class="token number">18</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">HalUARTWrite</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"  "</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">HalUARTWrite</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>pkt<span class="token operator">-></span>cmd<span class="token punctuation">.</span>Data<span class="token punctuation">[</span><span class="token number">24</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">HalUARTWrite</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"  "</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">HalUARTWrite</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>pkt<span class="token operator">-></span>cmd<span class="token punctuation">.</span>Data<span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">HalUARTWrite</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"  "</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">HalUARTWrite</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"\n"</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">HalLedBlink</span><span class="token punctuation">(</span> HAL_LED_1<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">200</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
      
    <span class="token keyword">case</span> SAMPLEAPP_POINT_TO_POINT_CLUSTERID_2<span class="token punctuation">:</span>  <span class="token comment" spellcheck="true">//添加的id</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>pkt<span class="token operator">-></span>cmd<span class="token punctuation">.</span>Data<span class="token punctuation">[</span><span class="token number">36</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token string">'X'</span><span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
        <span class="token function">HalUARTWrite</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"ED2:"</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">HalUARTWrite</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"  "</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">HalUARTWrite</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>pkt<span class="token operator">-></span>cmd<span class="token punctuation">.</span>Data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">HalUARTWrite</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"  "</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">HalUARTWrite</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>pkt<span class="token operator">-></span>cmd<span class="token punctuation">.</span>Data<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">HalUARTWrite</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"  "</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">HalUARTWrite</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>pkt<span class="token operator">-></span>cmd<span class="token punctuation">.</span>Data<span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">HalUARTWrite</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"  "</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">HalUARTWrite</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>pkt<span class="token operator">-></span>cmd<span class="token punctuation">.</span>Data<span class="token punctuation">[</span><span class="token number">18</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">HalUARTWrite</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"  "</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">HalUARTWrite</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>pkt<span class="token operator">-></span>cmd<span class="token punctuation">.</span>Data<span class="token punctuation">[</span><span class="token number">24</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">HalUARTWrite</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"  "</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">HalUARTWrite</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>pkt<span class="token operator">-></span>cmd<span class="token punctuation">.</span>Data<span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">HalUARTWrite</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"  "</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">HalUARTWrite</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"\n"</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">HalLedBlink</span><span class="token punctuation">(</span> HAL_LED_1<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">200</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>

    <span class="token keyword">case</span> SAMPLEAPP_FLASH_CLUSTERID<span class="token punctuation">:</span>
      flashTime <span class="token operator">=</span> <span class="token function">BUILD_UINT16</span><span class="token punctuation">(</span>pkt<span class="token operator">-></span>cmd<span class="token punctuation">.</span>Data<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> pkt<span class="token operator">-></span>cmd<span class="token punctuation">.</span>Data<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">HalLedBlink</span><span class="token punctuation">(</span> HAL_LED_4<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>flashTime <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h5 id="第三步"><a href="#第三步" class="headerlink" title="第三步"></a>第三步</h5><p>烧录终端节点时 在点播发送函数 SampleApp_SendPointToPointMessage()<br>设置相对于的id</p>
<pre class="line-numbers language-c"><code class="language-c"><span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token function">AF_DataRequest</span><span class="token punctuation">(</span> <span class="token operator">&amp;</span>Point_To_Point_DstAddr<span class="token punctuation">,</span>
                       <span class="token operator">&amp;</span>SampleApp_epDesc<span class="token punctuation">,</span>
                       <span class="token comment" spellcheck="true">//SAMPLEAPP_POINT_TO_POINT_CLUSTERID,  //节点1</span>
                       SAMPLEAPP_POINT_TO_POINT_CLUSTERID_2<span class="token punctuation">,</span><span class="token comment" spellcheck="true">//节点2</span>
                       <span class="token number">37</span><span class="token punctuation">,</span>
                       buf<span class="token punctuation">,</span>
                       <span class="token operator">&amp;</span>SampleApp_TransID<span class="token punctuation">,</span>
                       AF_DISCV_ROUTE<span class="token punctuation">,</span>
                       AF_DEFAULT_RADIUS <span class="token punctuation">)</span> <span class="token operator">==</span> afStatus_SUCCESS <span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">//其余省略 </span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>完成以上步骤 协调器的串口数据如下<br><img src="/medias/cd/zigbeeresult.jpg"></p>
<h5 id="原理、数据处理、动作捕捉"><a href="#原理、数据处理、动作捕捉" class="headerlink" title="原理、数据处理、动作捕捉"></a>原理、数据处理、动作捕捉</h5><p>参考如下：<br><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/20082486">https://zhuanlan.zhihu.com/p/20082486</a><br>(<a target="_blank" rel="noopener" href="https://oshwhub.com/Scarling/shen-tai-dian-sai-jian-yi-dong-zuo-bu-zhuo-shou-tao">https://oshwhub.com/Scarling/shen-tai-dian-sai-jian-yi-dong-zuo-bu-zhuo-shou-tao</a>)<br>源码链接：<br><a target="_blank" rel="noopener" href="https://github.com/FL-Tester/Course-Design/tree/main/%E6%97%A0%E7%BA%BF%E5%8D%95%E7%89%87%E6%9C%BA/ZStack-CC2530-2.5.1a-MPU6050">https://github.com/FL-Tester/Course-Design/tree/main/%E6%97%A0%E7%BA%BF%E5%8D%95%E7%89%87%E6%9C%BA/ZStack-CC2530-2.5.1a-MPU6050</a></p>
<h2 id="基于linux的语音识别项目-科大讯飞离线端"><a href="#基于linux的语音识别项目-科大讯飞离线端" class="headerlink" title="基于linux的语音识别项目(科大讯飞离线端)"></a>基于linux的语音识别项目(科大讯飞离线端)</h2><h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h3><p>该项目是在linux下科大讯飞离线包和虚拟LCD的基础上完成</p>
<h4 id="涉及的知识"><a href="#涉及的知识" class="headerlink" title="涉及的知识:"></a>涉及的知识:</h4><ul>
<li>linux基本操作/常用命令</li>
<li>C语言基础</li>
<li>TCP/IP(socket网络编程)</li>
<li>多线程编程</li>
<li>makefile</li>
<li>linux简单驱动调用</li>
</ul>

<h4 id="工程文件结构"><a href="#工程文件结构" class="headerlink" title="工程文件结构"></a>工程文件结构</h4><p><img src="/project/gcwj.jpg"></p>
<h3 id="环境配置"><a href="#环境配置" class="headerlink" title="环境配置"></a>环境配置</h3><p>本次开发是在windows下的vscode通过ssh插件远程开发<br>linux版本为ubuntu16.04 在VMware下运行<br>需要在虚拟机配置好网卡 alsa声音库等 保证tcp通信 和 声音播放以及录入<br>工程文件如上图 需要编写好makefile(工程较小 没用cmake) 以及配置好文件夹</p>
<h3 id="配置模拟LCD驱动"><a href="#配置模拟LCD驱动" class="headerlink" title="配置模拟LCD驱动"></a>配置模拟LCD驱动</h3><p>模拟只是为了实现两个功能：<br>图像化界面的显示 —- lcd<br>触摸屏按钮的功能 —- 触摸屏</p>
<h4 id="安装驱动"><a href="#安装驱动" class="headerlink" title="安装驱动"></a>安装驱动</h4><p><img src="/project/lcd1.jpg"></p>
<ol>
<li>进入lcd驱动文件夹 cd  mmap_drv  </li>
<li>sudo make clean 和 sudo make 清除以及重新编译</li>
<li>安装驱动 sudo insmod mmp_drv.ko</li>
<li>进入模拟器目录 重复以上步骤</li>
</ol>
<h3 id="客户端与科大讯飞端建立稳定的TCP通信"><a href="#客户端与科大讯飞端建立稳定的TCP通信" class="headerlink" title="客户端与科大讯飞端建立稳定的TCP通信"></a>客户端与科大讯飞端建立稳定的TCP通信</h3><ol>
<li>打开科大讯飞本地离线包端</li>
<li>配置语言ID<br><img src="/project/kdxf1.jpg" alt="科大讯飞离线端开启成功"></li>
<li>测试<br><img src="/project/kdxf2.jpg" alt="与科大讯飞通信成功"></li>
</ol>
<h3 id="结果"><a href="#结果" class="headerlink" title="结果"></a>结果</h3><p>三个进程</p>
<ul>
<li>终端1: 科大讯飞语音识别端</li>
<li>终端2: 虚拟lcd驱动端</li>
<li>终端3: 主程序</li>
</ul>

<p><img src="/project/result1.jpg"></p>
<p>通过语音控制客户端 功能有画图 视频播放 音乐等等<br><img src="/project/result2.jpg"></p>
<h2 id="基于zigbee和mqtt的宿舍防火防盗-物联网"><a href="#基于zigbee和mqtt的宿舍防火防盗-物联网" class="headerlink" title="基于zigbee和mqtt的宿舍防火防盗(物联网)"></a>基于zigbee和mqtt的宿舍防火防盗(物联网)</h2><h2 id="校园打卡"><a href="#校园打卡" class="headerlink" title="校园打卡"></a>校园打卡</h2><h3 id="要求-1"><a href="#要求-1" class="headerlink" title="要求"></a>要求</h3><h4 id="分组与选题"><a href="#分组与选题" class="headerlink" title="分组与选题"></a>分组与选题</h4><p>自由组合，8-10人一组，每组推选组长1人；可以在下面的参考选题中自由选题或自拟题目。</p>
<h4 id="选题-1"><a href="#选题-1" class="headerlink" title="选题"></a>选题</h4><p>基于校园卡的学生考勤系统<br>（1）任务设计制作<br>    基于校园卡的学生考勤系统。<br>（2）要求<br>    1. 以校园卡（RFID卡）作为身份识别卡，刷卡进行签到。<br>    2. 刷卡信息可以传输至WEB服务器（传输方式自拟，可以是有线的，也可以是无线的）进行验证；验证结果可以返回至客服端进行显示（验证成功或失败）。<br>    3. 编写B/S结构的应用程序，可以通过网页浏览器实时查看考勤信息。<br>    4. 电路制作时，必须注明本组成员学号与姓名。</p>
<h3 id="选题修改"><a href="#选题修改" class="headerlink" title="选题修改"></a>选题修改</h3><h4 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h4><p>基于校园卡的学生考勤系统（不变）</p>
<h5 id="要求-2"><a href="#要求-2" class="headerlink" title="要求"></a>要求</h5><ol>
<li>以校园卡（RFID卡）作为身份识别卡，刷卡进行签到。</li>
<li>刷卡信息可以传输至私有服务器数据库和客户端（gec6818）。<br> 板子通过sql插入传到数据库或者tcp到qt小型数据库中</li>
<li>在开发板屏幕或者上位机（可以是开发板qt程序中）中实时查看考勤信息。<br> qt开发/纯c画图ui</li>
<li>电路制作时，必须注明本组成员学号与姓名。</li>
</ol>
<h3 id="主控"><a href="#主控" class="headerlink" title="主控"></a>主控</h3><p>ESP32 (Xtensa® 双核32 位LX6 微处理器)<br>gec6818开发板 (Cortex-A8 S5PV210)</p>
<h3 id="外设"><a href="#外设" class="headerlink" title="外设"></a>外设</h3><p>nfc模块:RC522<br>屏幕: 0.96寸OLED屏幕(SSD1306) 2.4寸ST7789屏幕</p>
<h3 id="技术栈"><a href="#技术栈" class="headerlink" title="技术栈"></a>技术栈</h3><ol>
<li>esp32裸机开发(IDE: ESP-IDF &amp; VSCODE)</li>
<li>FreeRTOS</li>
<li>LVGL (ui)</li>
<li>通信协议: SPI I2C UART</li>
</ol>
<h3 id="电路设计和打板"><a href="#电路设计和打板" class="headerlink" title="电路设计和打板"></a>电路设计和打板</h3><h2 id="毕设"><a href="#毕设" class="headerlink" title="毕设"></a>毕设</h2>
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Other/" rel="tag"># Other</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2022/10/15/tool/" rel="next" title="工具语言">
                <i class="fa fa-chevron-left"></i> 工具语言
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name"></p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/%20%7C%7C%20archive">
              
                  <span class="site-state-item-count">15</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                
                  <span class="site-state-item-count">5</span>
                  <span class="site-state-item-name">categories</span>
                
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">tags</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%97%A0%E7%BA%BF%E5%8D%95%E7%89%87%E6%9C%BA%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1"><span class="nav-number">1.</span> <span class="nav-text">无线单片机课程设计</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A6%81%E6%B1%82"><span class="nav-number">1.1.</span> <span class="nav-text">要求</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%89%E9%A2%98"><span class="nav-number">1.2.</span> <span class="nav-text">选题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%9E%E7%8E%B0"><span class="nav-number">1.3.</span> <span class="nav-text">实现</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#mpu6050%E9%80%82%E9%85%8Dcc2530-c51"><span class="nav-number">1.3.1.</span> <span class="nav-text">mpu6050适配cc2530(c51)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%9E%E7%8E%B0%E5%A4%9A%E7%82%B9%E7%9A%84%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E4%BC%A0%E8%BE%93"><span class="nav-number">1.3.2.</span> <span class="nav-text">实现多点的无线网络传输</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%AC%AC%E4%B8%80%E6%AD%A5"><span class="nav-number">1.3.2.1.</span> <span class="nav-text">第一步</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%AC%AC%E4%BA%8C%E6%AD%A5"><span class="nav-number">1.3.2.2.</span> <span class="nav-text">第二步</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%AC%AC%E4%B8%89%E6%AD%A5"><span class="nav-number">1.3.2.3.</span> <span class="nav-text">第三步</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%8E%9F%E7%90%86%E3%80%81%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E3%80%81%E5%8A%A8%E4%BD%9C%E6%8D%95%E6%8D%89"><span class="nav-number">1.3.2.4.</span> <span class="nav-text">原理、数据处理、动作捕捉</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E4%BA%8Elinux%E7%9A%84%E8%AF%AD%E9%9F%B3%E8%AF%86%E5%88%AB%E9%A1%B9%E7%9B%AE-%E7%A7%91%E5%A4%A7%E8%AE%AF%E9%A3%9E%E7%A6%BB%E7%BA%BF%E7%AB%AF"><span class="nav-number">2.</span> <span class="nav-text">基于linux的语音识别项目(科大讯飞离线端)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A6%82%E8%BF%B0"><span class="nav-number">2.1.</span> <span class="nav-text">概述</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B6%89%E5%8F%8A%E7%9A%84%E7%9F%A5%E8%AF%86"><span class="nav-number">2.1.1.</span> <span class="nav-text">涉及的知识:</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B7%A5%E7%A8%8B%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84"><span class="nav-number">2.1.2.</span> <span class="nav-text">工程文件结构</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE"><span class="nav-number">2.2.</span> <span class="nav-text">环境配置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E6%A8%A1%E6%8B%9FLCD%E9%A9%B1%E5%8A%A8"><span class="nav-number">2.3.</span> <span class="nav-text">配置模拟LCD驱动</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%89%E8%A3%85%E9%A9%B1%E5%8A%A8"><span class="nav-number">2.3.1.</span> <span class="nav-text">安装驱动</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%B8%8E%E7%A7%91%E5%A4%A7%E8%AE%AF%E9%A3%9E%E7%AB%AF%E5%BB%BA%E7%AB%8B%E7%A8%B3%E5%AE%9A%E7%9A%84TCP%E9%80%9A%E4%BF%A1"><span class="nav-number">2.4.</span> <span class="nav-text">客户端与科大讯飞端建立稳定的TCP通信</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%93%E6%9E%9C"><span class="nav-number">2.5.</span> <span class="nav-text">结果</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E4%BA%8Ezigbee%E5%92%8Cmqtt%E7%9A%84%E5%AE%BF%E8%88%8D%E9%98%B2%E7%81%AB%E9%98%B2%E7%9B%97-%E7%89%A9%E8%81%94%E7%BD%91"><span class="nav-number">3.</span> <span class="nav-text">基于zigbee和mqtt的宿舍防火防盗(物联网)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A0%A1%E5%9B%AD%E6%89%93%E5%8D%A1"><span class="nav-number">4.</span> <span class="nav-text">校园打卡</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A6%81%E6%B1%82-1"><span class="nav-number">4.1.</span> <span class="nav-text">要求</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%86%E7%BB%84%E4%B8%8E%E9%80%89%E9%A2%98"><span class="nav-number">4.1.1.</span> <span class="nav-text">分组与选题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%80%89%E9%A2%98-1"><span class="nav-number">4.1.2.</span> <span class="nav-text">选题</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%89%E9%A2%98%E4%BF%AE%E6%94%B9"><span class="nav-number">4.2.</span> <span class="nav-text">选题修改</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE"><span class="nav-number">4.2.1.</span> <span class="nav-text">题目</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%A6%81%E6%B1%82-2"><span class="nav-number">4.2.1.1.</span> <span class="nav-text">要求</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%BB%E6%8E%A7"><span class="nav-number">4.3.</span> <span class="nav-text">主控</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%96%E8%AE%BE"><span class="nav-number">4.4.</span> <span class="nav-text">外设</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8A%80%E6%9C%AF%E6%A0%88"><span class="nav-number">4.5.</span> <span class="nav-text">技术栈</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%94%B5%E8%B7%AF%E8%AE%BE%E8%AE%A1%E5%92%8C%E6%89%93%E6%9D%BF"><span class="nav-number">4.6.</span> <span class="nav-text">电路设计和打板</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%AF%95%E8%AE%BE"><span class="nav-number">5.</span> <span class="nav-text">毕设</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Feng LE</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
